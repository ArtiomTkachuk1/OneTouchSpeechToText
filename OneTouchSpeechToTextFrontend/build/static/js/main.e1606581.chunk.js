(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{112:function(e,t,n){"use strict";n.r(t);var a=n(11),r=n(12),o=n(14),i=n(13),s=n(0),l=n.n(s),c=n(7),p=n.n(c),u=n(70),m=n(153),g=n(69),h=n.n(g),d=n(68),f=n.n(d),v=function(e){Object(o.a)(s,e);var t=Object(i.a)(s);function s(e){var r;return Object(a.a)(this,s),r=t.call(this,e),n(39).get("http://127.0.0.1:5000/get_config").then((function(e){var t=e.data;console.log(t),r.props.setConfig(t),r.props.setPageTo0()})),r}return Object(r.a)(s,[{key:"render",value:function(){return null}}]),s}(l.a.Component),y=n(64),b=n(20),O=n(145),E=n(120),w=n(154),S=n(116),_=n(115),j=n(117),T=n(150),k=n(148),C=n(65),x=n.n(C);function M(e){var t=Object(O.a)((function(t){return{container:{display:"flex",flexWrap:"wrap"},textField:{display:"flex",width:e.width,marginTop:e.marginTop,margin:"auto"},button:{display:"flex",width:e.width,marginTop:e.marginTop,margin:"auto"},FormHelperText:{display:"flex",width:e.width,margin:"auto",marginTop:7,color:"red "},input:{display:"none"},rightIcon:{marginLeft:t.spacing(1)},iconSmall:{fontSize:20}}}))(),a=l.a.useState(""),r=Object(b.a)(a,2),o=r[0],i=r[1];return e.values.name===e.types[0]?l.a.createElement("div",null,l.a.createElement(k.a,{label:"YouTube url",id:"margin-normal",defaultValue:"",className:t.textField,onChange:function(e){i(e.target.value)},helperText:"",margin:"normal"}),l.a.createElement(T.a,{variant:"outlined",color:"primary",className:t.button,onClick:function(t){if(t.preventDefault(),!0===function(e){return void 0!==x.a.parse(e)}(o)){var a=e.getConfig();if(!1!==a){a.push({ref:o});var r=new FormData,i=JSON.stringify(a),s=new Blob([i],{type:"application/json"});r.append("settings",s),e.set_page_to_1(),console.log(a),function(t){n(39).post("/file_from_ref",t).then((function(t){e.set_ask_tr(),console.log(t)})).catch((function(e){return console.warn(e)}))}(r)}}else e.setErrorMessage(e.errorMessageStrings[3])}},e.endButtonText),l.a.createElement(S.a,{className:t.FormHelperText},e.errorMessage)):null}var N=n(67),F=n.n(N),D=n(151);function I(e){var t=Object(O.a)((function(t){return{div:{display:"flex",flexWrap:"wrap"},textField:{display:"flex",width:e.width,marginTop:e.marginTop,margin:"auto"},button:{display:"flex",width:e.width,marginTop:e.marginTop,margin:"auto"},FormHelperText:{display:"flex",width:e.width,margin:"auto",marginTop:7,color:"red "},input:{display:"none"},rightIcon:{marginLeft:t.spacing(1)},iconSmall:{fontSize:20}}}))(),a=l.a.useState(""),r=Object(b.a)(a,2),o=r[0],i=r[1],s=n(107),c="";return e.values.name===e.types[1]?l.a.createElement("div",{key:s()},l.a.createElement(D.a,{key:s()},l.a.createElement("input",{accept:"video/*,audio/*",className:t.input,id:"contained-button-file",multiple:!0,type:"file",name:"inputFile",ref:function(e){return c=e},onChange:function(e){e.preventDefault(),i(c.files[0])}})),l.a.createElement("label",{htmlFor:"contained-button-file"},l.a.createElement(T.a,{variant:"contained",component:"span",className:t.button},"Upload",l.a.createElement(F.a,{className:t.rightIcon})),l.a.createElement(T.a,{type:"submit",variant:"outlined",color:"primary",className:t.button,onClick:function(t){if(t.preventDefault(),""!==o){var a=o,r=e.getConfig();if(!1!==r){var i=new FormData;i.append("media",a);var s=JSON.stringify(r),l=new Blob([s],{type:"application/json"});i.append("settings",l),e.set_page_to_1(),console.log(r),function(t){n(39).post("/file_from_form",t).then((function(t){e.set_ask_tr(),console.log(t)})).catch((function(e){return console.warn(e)}))}(i)}}else e.setErrorMessage(e.errorMessageStrings[2])}},e.endButtonText),l.a.createElement(S.a,{className:t.FormHelperText},e.errorMessage))):null}var P=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this;return""!==this.props.mainOption?l.a.createElement("div",null,this.props.secondarySelects.map((function(t,n){return l.a.createElement("div",{key:"secondarySelectsDiv"+n.toString()},l.a.createElement(j.a,{key:"secondarySelect"+n.toString(),name:"Option "+n,style:{width:"100%",display:"flex",marginTop:"6%"},value:e.props.chosenSecondaryOptions[n],onChange:e.props.handleSecondaryChange},l.a.createElement(w.a,{value:""},l.a.createElement("em",null,"None")),e.props.secondaryOptions[n].map((function(e,t){return l.a.createElement(w.a,{value:t.toString(),key:"SecondaryMenuItem"+t.toString()},e)}))),l.a.createElement(S.a,null,t))}))):null}}]),n}(s.Component),W=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return l.a.createElement("div",{style:{width:"100%",marginTop:"6%"}},l.a.createElement("div",null,l.a.createElement(j.a,{key:"MainSelect",style:{width:"100%",marginTop:"6%"},value:this.props.chosenMainOption,onChange:this.props.handleMainChange,name:"language"},l.a.createElement(w.a,{value:""},l.a.createElement("em",null,"None")),this.props.mainOptions.map((function(e,t){return l.a.createElement(w.a,{value:t.toString(),key:"MainMenuItem"+t.toString()},e)})))),l.a.createElement(S.a,null,"Choose language"),l.a.createElement("div",null,l.a.createElement(P,{key:"SecondarySelects",mainOption:this.props.chosenMainOption,handleSecondaryChange:this.props.handleSecondaryChange,chosenSecondaryOptions:this.props.chosenSecondaryOptions,secondarySelects:""===this.props.chosenMainOption?null:this.props.secondarySelects[this.props.chosenMainOption],secondaryOptions:""===this.props.chosenMainOption?null:this.props.secondaryOptions[this.props.chosenMainOption]})))}}]),n}(s.Component);function B(e){var t=["YouTube","File with record"],n=Object(O.a)((function(e){return{formControl:{display:"flex",margin:"auto",width:"40%",marginTop:"6%"}}})),a=["Choose language first","Choose configuration first","Upload file first","Link is incorrect"],r=n(),o=[],i=[],s=[],c=l.a.useState({type:"",name:""}),p=Object(b.a)(c,2),u=p[0],m=p[1],g=l.a.useState(""),h=Object(b.a)(g,2),d=h[0],f=h[1],v=l.a.useState(""),T=Object(b.a)(v,2),k=T[0],C=T[1],x=l.a.useState([]),N=Object(b.a)(x,2),F=N[0],D=N[1],P=function(e){D(new Array(e).fill(""))},B=function(){var e=[];if(""!==k){e.push({Language:o[k]});for(var t=!0,n=F.length,r=0;r<n;r++)if(console.log(r),""===F[r]){t=!1;break}if(!0===t){for(var l=i[k].length,c=0;c<l;c++){var p=i[k][c];-1!==p.search(" ")&&(p=p.replace(" ","_"));var u=s[k][F[c]][0];console.log(p,u),e.push(Object(y.a)({},p,u))}return e}return f(a[1]),!1}return f(a[0]),!1};if(0===e.page){var L=function(e){var t=[],n=[],a=[];for(var r in e){t.push(r);var o=[],i=[];for(var s in e[r])o.push(s),i.push(e[r][s]);n.push(o),a.push(i)}return[t,n,a]}(e.config),H=Object(b.a)(L,3);return o=H[0],i=H[1],s=H[2],l.a.createElement("div",null,l.a.createElement("div",{className:r.formControl},l.a.createElement(W,{key:"TreeSelect",mainOptions:o,secondarySelects:i,secondaryOptions:s,chosenMainOption:k,chosenSecondaryOptions:F,handleMainChange:function(e){C(e.target.value),""!==e.target.value?P(s[e.target.value].length):D([])},handleSecondaryChange:function(e){var t=parseInt(e.target.name.slice(-1)),n=F.map((function(n,a){return a===t?e.target.value:n}));D(n)}})),l.a.createElement(_.a,{className:r.formControl},l.a.createElement(E.a,{htmlFor:"type-helper"},"Type of video"),l.a.createElement(j.a,{value:u.type,onChange:function(e){f(""),m({type:e.target.value,name:t[e.target.value]})},inputProps:{name:"type",id:"type-helper"}},l.a.createElement(w.a,{value:""},l.a.createElement("em",null,"None")),l.a.createElement(w.a,{value:0},t[0]),l.a.createElement(w.a,{value:1},t[1])),l.a.createElement(S.a,null,"Choose type of media")),l.a.createElement(M,{set_page_to_1:e.set_page_to_1,set_ask_tr:e.set_ask_tr,width:"40%",values:u,types:t,getConfig:B,marginTop:"6%",setErrorMessage:f,errorMessage:d,errorMessageStrings:a,endButtonText:"Go"}),l.a.createElement(I,{set_page_to_1:e.set_page_to_1,set_ask_tr:e.set_ask_tr,width:"40%",values:u,types:t,getConfig:B,marginTop:"6%",setErrorMessage:f,errorMessage:d,errorMessageStrings:a,endButtonText:"Go"}))}return null}var L=n(152),H=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return!0===this.props.loading?l.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",margin:"auto",marginTop:"20%"}},l.a.createElement(L.a,{style:{width:"200px",height:"200px"}})):null}}]),n}(l.a.Component),z=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return!1===this.props.loading?l.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",margin:"auto",width:"60%"}},l.a.createElement(k.a,{style:{width:"100%"},value:this.props.transcribtion,margin:"normal",multiline:!0,rowsMax:10,helperText:"result of transcribtion",InputProps:{readOnly:!0}})):null}}]),n}(l.a.Component),J=function(e){Object(o.a)(s,e);var t=Object(i.a)(s);function s(e){var n;return Object(a.a)(this,s),(n=t.call(this,e)).state={loading:!0},n}return Object(r.a)(s,[{key:"componentDidUpdate",value:function(e){var t=this;!0===this.props.ask_tr&&this.props.ask_tr!==e.ask_tr&&(console.log("kra"),n(39).get("http://127.0.0.1:5000/get_transcribtion").then((function(e){var n=e.data;console.log(n),t.props.set_transcribtion(n),t.setState({loading:!1})})))}},{key:"render",value:function(){return 1===this.props.page?l.a.createElement("div",{style:{width:"100%",height:"100%",display:"flex",margin:"auto"}},l.a.createElement(H,{loading:this.state.loading}),l.a.createElement(z,{loading:this.state.loading,transcribtion:this.props.transcribtion})):null}}]),s}(l.a.Component),U=f.a,A=h.a,G=Object(u.a)({spacing:4,palette:{type:"light",primary:U,secondary:A},status:{danger:"orange"}}),Y=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).setPageTo0=function(){r.setState({page:0})},r.setPageTo1=function(){r.setState({page:1})},r.setConfig=function(e){r.setState({config:e})},r.setTranscribtion=function(e){r.setState({transcribtion:e})},r.setAskTr=function(){r.setState({askTr:!0})},r.updateWindowDimensions=function(){r.setState({width:window.innerWidth,height:window.innerHeight})},r.state={page:-1,transcribtion:"",askTr:!1,config:{}},r}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"render",value:function(){return l.a.createElement(m.a,{theme:G},l.a.createElement("div",null,l.a.createElement(v,{setConfig:this.setConfig,setPageTo0:this.setPageTo0}),l.a.createElement(B,{page:this.state.page,set_ask_tr:this.setAskTr,set_page_to_1:this.setPageTo1,config:this.state.config}),l.a.createElement(J,{page:this.state.page,transcribtion:this.state.transcribtion,ask_tr:this.state.askTr,set_transcribtion:this.setTranscribtion})))}}]),n}(l.a.Component);p.a.render(l.a.createElement(Y,null),document.getElementById("root"))},82:function(e,t,n){e.exports=n(112)}},[[82,1,2]]]);
//# sourceMappingURL=main.e1606581.chunk.js.map